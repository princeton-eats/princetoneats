<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Results - Princeton Eats</title>
    <!-- CSS files -->

    <link rel="stylesheet" href=
         "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

         <link rel="stylesheet" href="static/css/base.css">
         <link rel="stylesheet" href="static/css/meals_list_c.css">

</head>

<body class="d-flex flex-column min-vh-100">

    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #FFE6D0; color: #2A100C; padding-left: 20px; padding-right: 20px;">
        <a class="navbar-brand" href="/" style="font-size: x-large;"><strong>PrincetonEats!</strong></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav ms-auto">
                <a class="nav-item nav-link" href="/">Home</a>
                <a class="nav-item nav-link" href="/find_meals">Find Meals</a>
                <a class="nav-item nav-link" href="/about">About</a>
                <a class="nav-item nav-link" href="{% if username %}/logoutcas{% else %}/logincas{% endif %}">Sign {% if username %}out{% else %}in{% endif %}</a>
            </div>
        </div>
    </nav>

    <div class="container-fluid flex-fill d-flex justify-content-center align-items-center">
        <div class="row w-75 justify-content-center">

            <div class="containerMeals col-md-9 text-center" >
                <div class="containerMeals">
                    {% if grouped_meals|length == 0 %}
                        <p>Today is a weekend, please search for lunch options instead.</p>
                    {% else %}
                        <h2>Here are Your Options</h2> <!-- Include users queired preferences here -->
                        <!-- <h5>Scroll over Ingredients and Allergens for Details</h5> -->
                        <hr class="line">
                        {% for dhall, meals in grouped_meals.items() %}
                            <h3>Dining hall: {{ dhall }}</h3>
                            <table class="table-bordered" style="border-radius:6px;">
                                <tr>
                                    <th>Meal</th>
                                    <th>Ingredients</th>
                                    <th>Allergens</th>
                                </tr>
                                {% for meal in meals %}
                                <tr>
                                    <td>{{ meal["name"]}}</td>

                                    <td>{{ meal["ingredients_string"] }}</td>

                                    <td>{{ meal["allergens_string"] }}</td>
                                </tr>
                                {% endfor %}
                            </table>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
            <div class="containerSmall col-md-3 text-center ms-md-4">
                <h2>REMEMBER!</h2>
                <div id="warning">
                    <p style="text-align: center;">Always follow up with campus dining staff to confirm ingredients!</p>
                </div>
            </div>

        </div>
    </div>

    <div class="container-fluid back-buttons justify-content-center">
        <center>
        <button onclick="location.href='/find_meals'" class="custom-button">Back</button>
        <button onclick="location.href='/'" class="custom-button">Home</button>
        </center>
    </div>

    <div class="container-fluid, footer" style="padding: 5px;">
        <center>
            &copy; COS 333 Final Project
            <br>
            Made by Achilles, Adham, Akuei, Ndongo, and Yusuf
        </center>
    </div>

</body>
</html>
